<!DOCTYPE html>
<html lang="zh-CN">








<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="preconnect" href="//www.googletagmanager.com">
	<link rel="preconnect" href="//zz.bdstatic.com">
	<link rel="preconnect" href="//sp0.baidu.com">
	<link rel="preconnect" href="//www.google-analytics.com">
	<link rel="preconnect" href="//cdn1.lncld.net">
	<link rel="preconnect" href="//unpkg.com">
	<link rel="preconnect" href="//app-router.leancloud.cn">
	<link rel="preconnect" href="//9qpuwspm.api.lncld.net">
	<link rel="preconnect" href="//gravatar.loli.net">

	<title>MATLAB札记（一）：让图像动起来 | Levitate_</title>

	<meta name="HandheldFriendly" content="True">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
	<meta name="generator" content="hexo">
	<meta name="author" content="Levitate_">
	<meta name="description" content>

	
	<meta name="keywords" content>
	

	
	<link rel="shortcut icon" href="https://s1.ax1x.com/2022/05/18/Oo3OeI.png">
	<link rel="apple-touch-icon" href="https://s1.ax1x.com/2022/05/18/Oo3OeI.png">
	

	
	<meta name="theme-color" content="#3c484e">
	<meta name="msapplication-TileColor" content="#3c484e">
	

	

	
	<link rel="alternate" href="/atom.xml" title="Levitate_">
	

	<meta property="og:site_name" content="Levitate_">
	<meta property="og:type" content="article">
	<meta property="og:title" content="MATLAB札记（一）：让图像动起来 | Levitate_">
	<meta property="og:description" content>
	<meta property="og:url" content="https://levitate-qian.github.io/2020/06/27/matlab-note-01/">

	
	<meta property="article:published_time" content="2020-06-27T09:06:00+08:00"> 
	<meta property="article:author" content="Levitate_">
	<meta property="article:published_first" content="Levitate_, /2020/06/27/matlab-note-01/">
	

	
	
	
<link rel="stylesheet" href="/css/allinonecss.min.css">


	
	
	
  <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.0/katex.min.css" rel="stylesheet" type="text/css">
	
<link rel="alternate" href="/atom.xml" title="Levitate_" type="application/atom+xml">
</head>
<body class="post-template">
	<div class="site-wrapper">
		




<header class="site-header post-site-header outer">
    <div class="inner">
        
<nav class="site-nav"> 
    <div class="site-nav-left">
        <ul class="nav">
            <li>
                
                <a href="/" title="Home">HOME</a>
                
            </li>
            
            
            <li>
                <a href="/about" title="ABOUT">ABOUT</a>
            </li>
            
            <li>
                <a href="/archives" title="ARCHIVES">ARCHIVES</a>
            </li>
            
            <li>
                <a href="/details" title="DETAILS">DETAILS</a>
            </li>
            
            <li>
                <a href="/links" title="LINKS">LINKS</a>
            </li>
            
            
            <li>
                <p title="公告栏" style="margin: 0px" onclick="disp_notice_alert()">📌</p>
            </li>
        </ul> 
    </div>
    
    <div class="search-button-area">
        <a href="#search" class="search-button">Search ...</a>
    </div>
     
    <div class="site-nav-right">
        
        <a href="#search" class="search-button">Search ...</a>
         
        
<div class="social-links">
    
    
    <a class="social-link" title="github" href="https://github.com/Levitate-Qian/" target="_blank" rel="noopener">
        <svg viewbox="0 0 1049 1024" xmlns="http://www.w3.org/2000/svg"><path d="M524.979332 0C234.676191 0 0 234.676191 0 524.979332c0 232.068678 150.366597 428.501342 358.967656 498.035028 26.075132 5.215026 35.636014-11.299224 35.636014-25.205961 0-12.168395-0.869171-53.888607-0.869171-97.347161-146.020741 31.290159-176.441729-62.580318-176.441729-62.580318-23.467619-60.841976-58.234462-76.487055-58.234463-76.487055-47.804409-32.15933 3.476684-32.15933 3.476685-32.15933 53.019436 3.476684 80.83291 53.888607 80.83291 53.888607 46.935238 79.963739 122.553122 57.365291 152.97411 43.458554 4.345855-33.897672 18.252593-57.365291 33.028501-70.402857-116.468925-12.168395-239.022047-57.365291-239.022047-259.012982 0-57.365291 20.860106-104.300529 53.888607-140.805715-5.215026-13.037566-23.467619-66.926173 5.215027-139.067372 0 0 44.327725-13.906737 144.282399 53.888607 41.720212-11.299224 86.917108-17.383422 131.244833-17.383422s89.524621 6.084198 131.244833 17.383422C756.178839 203.386032 800.506564 217.29277 800.506564 217.29277c28.682646 72.1412 10.430053 126.029806 5.215026 139.067372 33.897672 36.505185 53.888607 83.440424 53.888607 140.805715 0 201.64769-122.553122 245.975415-239.891218 259.012982 19.121764 16.514251 35.636014 47.804409 35.636015 97.347161 0 70.402857-0.869171 126.898978-0.869172 144.282399 0 13.906737 9.560882 30.420988 35.636015 25.205961 208.601059-69.533686 358.967656-265.96635 358.967655-498.035028C1049.958663 234.676191 814.413301 0 524.979332 0z"/></svg>
    </a>
    
    
    
    
    
    
</div>
    </div>
</nav>
<script type="text/javascript">
function disp_notice_alert()
{
alert("如果出现蓝奏云链接失效，请将链接中的lanzous变为lanzoui即可解决！")
}
</script>
    </div>
</header>


<div id="site-main" class="site-main outer" role="main">
    <div class="inner">
        <header class="post-full-header">
            <div class="post-full-meta">
                <time class="post-full-meta-date" datetime="2020-06-27T09:25:30.000Z">
                    2020-06-27
                </time>
                
                <span class="date-divider">/</span>
                
                <a href="/categories/%E5%AE%9E%E9%AA%8C/">实验</a>&nbsp;&nbsp;
                
                
            </div>
            <h1 class="post-full-title">MATLAB札记（一）：让图像动起来</h1>
        </header>
        <div class="post-full ">
            
            <figure class="post-full-image" style="background-image: url(https://s1.ax1x.com/2020/08/09/a7ymtK.jpg)">
            </figure>
            
            <div class="post-full-content">
                <article id="photoswipe" class="markdown-body">
                    <h1 id="matlab札记一让图像动起来"><a class="markdownIt-Anchor" href="#matlab札记一让图像动起来"></a> MATLAB札记（一）——让图像动起来</h1>
<p>既然在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord text"><span class="mord textrm sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span>札记第一篇中谈到了在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>TeX</mtext></mrow><annotation encoding="application/x-tex">\TeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span>文档中插入动图，我们就势必要先获取一组动图，当然格式可以有许多种，可以是有软件生成的GIF，也可以是录屏，或者是生成的视频。这篇文章主要讲的是如何在MATLAB中使用自带的库函数获取GIF。</p>
<h2 id="引入"><a class="markdownIt-Anchor" href="#引入"></a> 引入</h2>
<blockquote>
<p>众所周知，一般来说，我们在MATLAB中获得的图片是静态的。MATLAB能生成动态的图片是怎么回事呢？MATLAB相信大家都很熟悉，但是MATLAB能生成动态的图片是怎么回事呢，下面就让小编带大家一起了解吧。</p>
<p>MATLAB能生成动态的图片，其实就是MATLAB能利用一些自带的库函数生成并保存为动态GIF图片，大家可能会很惊讶MATLAB怎么会能生成动态的图片呢？但事实就是这样，小编也感到非常惊讶。</p>
<p><s>这就是关于MATLAB能生成动态的图片的事情了，大家有什么想法呢，欢迎在评论区告诉小编一起讨论哦！（没有评论区）</s></p>
</blockquote>
<p>在使用MATLAB这个功能的过程中，找到的比较好的一篇博客是<a href="https://www.jianshu.com/p/cd9501bc810a" target="_blank" rel="noopener">参考文献1</a>，这篇文章写的不是特别细，但是一贴就能上手，挺好用的。也是因为讲解不是特别细，所以我做出来的图有点小问题。这里我会把我使用过程中发现的一些小问题，放在一起说。按照这篇文章的说法MATLAB绘制动态图主要用两种作用：</p>
<ul>
<li>表现绘图过程，即图形的增长过程</li>
<li>表示一个参数对图形的影响</li>
</ul>
<p>我在电磁场实验中主要用到的是第一种，即表现绘图效果（图形增长过程的）。</p>
<blockquote>
<ul>
<li>Step 0：确定好绘图的函数</li>
<li>Step 1：让静态的变成动态的</li>
<li>Step 2：获得首帧画面</li>
<li>Step 3：绘图过程——循环</li>
<li>Step 4：将图像序列反向写入GIF文件中（可选）</li>
</ul>
</blockquote>
<h2 id="前期准备原理"><a class="markdownIt-Anchor" href="#前期准备原理"></a> 前期准备——原理</h2>
<p>在使用MATLAB制作动图的过程中，主要有两道工序：让图像动起来并让它延续不断、获取连续图像生成GIF文件。主要使用的函数有</p>
<ul>
<li>让图像动起来并让它延续不断
<ul>
<li><code>getframe</code>和<code>moive</code>两个函数</li>
</ul>
</li>
<li>获取连续图像生成GIF文件
<ul>
<li><code>frame2im</code>和<code>imwrite</code></li>
</ul>
</li>
</ul>
<p>当然以上的四个函数是我在电磁场实验3中使用的。</p>
<h3 id="step-0确定好绘图的函数"><a class="markdownIt-Anchor" href="#step-0确定好绘图的函数"></a> Step 0：确定好绘图的函数</h3>
<p>首先我们要确定好绘图函数，以及一些变量的初始化。</p>
<p>比如在电磁场实验1B——磁聚焦实验中，我们需要有磁聚焦的函数。</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cos</span>(theta).*t,<span class="built_in">sin</span>(theta).*(<span class="built_in">cos</span>(t-<span class="built_in">pi</span>)+<span class="number">1</span>),<span class="built_in">sin</span>(theta).*<span class="built_in">sin</span>(t-<span class="built_in">pi</span>)</span><br></pre></td></tr></table></figure>
<p>而在电磁场实验3——平面电磁波的反射和干涉实验中，我们先需要确定入射波和反射波的各项参数，并知晓入射波、反射波、合成波、透射波的方程。我们甚至可以画一个透明平面来表示介质分界面。下面是平面电磁波向理想介质垂直入射的相关前期准备。</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%% 初始参数设定</span></span><br><span class="line">E0=<span class="number">1</span>;		<span class="comment">% The amplitude of the incident wave at z = 0</span></span><br><span class="line">k1=<span class="built_in">pi</span>/<span class="number">2</span>;	<span class="comment">% phase</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% 波函数</span></span><br><span class="line">Ei=E0.*<span class="built_in">cos</span>( -k1.*z+(<span class="built_in">j</span>./<span class="number">90</span>).*<span class="built_in">pi</span>);		<span class="comment">%入射波</span></span><br><span class="line">Er=-E0.*<span class="built_in">cos</span>(k1.*z+(<span class="built_in">j</span>./<span class="number">90</span>).*<span class="built_in">pi</span>)./<span class="number">3</span>;		<span class="comment">%反射波</span></span><br><span class="line">Et=<span class="number">2</span>*E0.*<span class="built_in">cos</span>( -k2.*zt+(<span class="built_in">j</span>./<span class="number">90</span>).*<span class="built_in">pi</span>)./<span class="number">3</span>; 	<span class="comment">%透射波</span></span><br></pre></td></tr></table></figure>
<h3 id="step-1让静态的变成动态的"><a class="markdownIt-Anchor" href="#step-1让静态的变成动态的"></a> Step 1：让静态的变成动态的</h3>
<p>首先，最关键的是我们要获得动图。获取动图我了解到的有两个办法：</p>
<h4 id="法i不考虑生成gif只要求能在matlab中看到动效"><a class="markdownIt-Anchor" href="#法i不考虑生成gif只要求能在matlab中看到动效"></a> 法Ⅰ：不考虑生成GIF，只要求能在MATLAB中看到动效。</h4>
<p>比如在电磁场实验1中使用的彗星图<code>comet3</code>函数。彗星图是动画图，其中一个圆（彗星头部）跟踪屏幕上的数据点。彗星主体是位于头部之后的尾部。尾巴是跟踪整个函数的实线。<code>comet3(x,y,z)</code> 显示经过点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[x(i),y(i),z(i)]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span> 曲线的彗星图。但这个<code>comet3</code>函数暂没有找到什么比较好的获取GIF办法。下图时使用<code>comet3</code>函数获得的一个磁聚焦实验的图像。其基本动画函数为</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">t=<span class="number">0</span>:<span class="number">0.01</span>:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line"><span class="keyword">for</span> theta=[<span class="number">-10</span>:<span class="number">2</span>:<span class="number">10</span>]*<span class="built_in">pi</span>/<span class="number">180</span>;</span><br><span class="line">grid on;</span><br><span class="line"><span class="built_in">hold</span> on;</span><br><span class="line">comet3(<span class="built_in">cos</span>(theta).*t,<span class="built_in">sin</span>(theta).*(<span class="built_in">cos</span>(t-<span class="built_in">pi</span>)+<span class="number">1</span>),<span class="built_in">sin</span>(theta).*<span class="built_in">sin</span>(t-<span class="built_in">pi</span>)); <span class="comment">% 获得动态效果</span></span><br><span class="line"><span class="built_in">plot3</span>(<span class="built_in">cos</span>(theta).*t,<span class="built_in">sin</span>(theta).*(<span class="built_in">cos</span>(t-<span class="built_in">pi</span>)+<span class="number">1</span>),<span class="built_in">sin</span>(theta).*<span class="built_in">sin</span>(t-<span class="built_in">pi</span>)); <span class="comment">% 获得全图</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p><img alt="lab01-2a" class="post-img b-lazy" data-img="/2020/06/27/matlab-note-01/lab01-2a.png" data-index="0" data-src="/2020/06/27/matlab-note-01/lab01-2a.png"></p>
<p>这种方法有利有弊，但弊大于利。主要问题就是他没法导出成比较有效果的GIF，导出成GIF需要获取动作每一帧的图像，而这个函数在绘制每一条线的时候的中间帧我们是无法获得的，硬性去套用获取GIF的函数，只能画出这样的图。</p>
<p><img alt="lab012" class="post-img b-lazy" data-img="/2020/06/27/matlab-note-01/lab012.gif" data-index="1" data-src="/2020/06/27/matlab-note-01/lab012.gif"></p>
<h4 id="法ii利用堆叠关系或者有动态效果的图"><a class="markdownIt-Anchor" href="#法ii利用堆叠关系或者有动态效果的图"></a> 法Ⅱ：利用堆叠关系，或者有动态效果的图。</h4>
<p>如果我们把曲线分成很多小段，让每个小段依次显示，我们是不是也能获得动态的图片呢？答案是肯定的，但是我们无法让图片一起显示<em>之前显示过的小段</em>和<em>当前我们所需要出现的小段</em>，所以这里我们不妨采用堆叠的关系，这是什么意思呢？请看下面的图片我们就能大致知道意思了（<em>第一次画这样的图，画的效果并不好</em>）</p>
<p><img alt="幻灯片1" class="post-img b-lazy" data-img="/2020/06/27/matlab-note-01/%E5%B9%BB%E7%81%AF%E7%89%871.PNG" data-index="2" data-src="/2020/06/27/matlab-note-01/%E5%B9%BB%E7%81%AF%E7%89%871.PNG"></p>
<p><strong>❗值得注意的是</strong>：这里的小段只是我形象化的表现，而到对这些小段取极限，取到无穷小时，小段就变成了一个个的点。</p>
<p><img alt="幻灯片2" class="post-img b-lazy" data-img="/2020/06/27/matlab-note-01/%E5%B9%BB%E7%81%AF%E7%89%872.PNG" data-index="3" data-src="/2020/06/27/matlab-note-01/%E5%B9%BB%E7%81%AF%E7%89%872.PNG"></p>
<p>同理，我们的堆叠操作也是每次在前一张画面上生成一个点。</p>
<p>这里我们选用的就是<strong>法Ⅱ</strong>。但是很显然法Ⅱ也会有一定的问题，我们最终得到的线其实是这么多线堆叠而成的，我们要对线条进行操作就会变得异常复杂。**尤其当我们需要导出最终图像的矢量格式时，甚至会出现断点问题，这点在有两条重叠线的情况下最甚。**请看下图“平面电磁波向理想导体垂直入射的仿真结果”。</p>
<p><img alt="黄蓝" class="post-img b-lazy" data-img="/2020/06/27/matlab-note-01/%E9%BB%84%E8%93%9D.png" data-index="4" data-src="/2020/06/27/matlab-note-01/%E9%BB%84%E8%93%9D.png"></p>
<p>从图中我们显然能够发现，入射波和反射波的曲线重叠在了一起，而橙色的反射波点被掩盖在蓝色的入射波点下，但又有时会隐隐约约的透出来。</p>
<h2 id="关键步骤利用函数写进gif中"><a class="markdownIt-Anchor" href="#关键步骤利用函数写进gif中"></a> 关键步骤——利用函数写进GIF中</h2>
<h3 id="step-2获得首帧画面"><a class="markdownIt-Anchor" href="#step-2获得首帧画面"></a> Step 2：获得首帧画面</h3>
<p>首先，根据需要，我们需要确定首幅图的样式，并指定标题，坐标轴标题等样式。（<em>这步可以省略</em>）</p>
<p>接着，为确保图像在采集的过程中包括坐标轴及标题，并在在指定的范围内获得图像文件，我们需要下列代码。（<em>这段代码可以直接使用，不需要改动</em>）</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%确保图像在采集的过程中包括坐标轴及标题</span></span><br><span class="line">ax = gca;</span><br><span class="line">ax.Units = <span class="string">'pixels'</span>;</span><br><span class="line">pos = ax.Position;</span><br><span class="line">ti = ax.TightInset;</span><br><span class="line">rect = [-ti(<span class="number">1</span>), -ti(<span class="number">2</span>), pos(<span class="number">3</span>)+ti(<span class="number">1</span>)+ti(<span class="number">3</span>), pos(<span class="number">4</span>)+ti(<span class="number">2</span>)+ti(<span class="number">4</span>)];</span><br><span class="line"></span><br><span class="line"><span class="comment">%在指定的范围内获得图像文件</span></span><br><span class="line">frame = getframe(ax,rect);</span><br><span class="line">im=frame2im(frame);</span><br></pre></td></tr></table></figure>
<p>然后，创建gif文件，指定其样式，写入首帧图像。这里的<code>lab032.gif</code>就是我们生成GIF图片的名称，<strong>注意下面和这个名称要对应哦</strong>！</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%创建gif文件，指定其样式，写入首帧图像</span></span><br><span class="line">k = <span class="number">1</span>;</span><br><span class="line"><span class="comment">%用胞元存储采集到的图像，方便后面反转图像用</span></span><br><span class="line">[I&#123;k&#125;,map&#123;k&#125;]=rgb2ind(im,<span class="number">256</span>);</span><br><span class="line">imwrite(I&#123;k&#125;,map&#123;k,<span class="number">1</span>&#125;,<span class="string">'lab032.gif'</span>,<span class="string">'gif'</span>,<span class="string">'Loopcount'</span>,Inf,<span class="string">'DelayTime'</span>,<span class="number">0.2</span>);</span><br><span class="line"> k = k + <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>❗值得注意的是</p>
<ul>
<li>一般的，如果你把Step 2写在循环中，就会循环往复的生成第一帧，而你的GIF就只剩两帧了。但是我们可以通过条件语句<code>if</code>去判定，当前处在哪一帧，<code>if(j==1)</code> 那么我们将运行绘制首帧的代码。同理，我们可以还可以在<code>if(j==1)</code> 中放置一些初始化的语句。</li>
<li>如果我们将上述代码放置在循环外，我们则需要注意考虑图像的持续显示，即<code>hold on</code>函数的使用。</li>
</ul>
</blockquote>
<h3 id="step-3绘图过程循环"><a class="markdownIt-Anchor" href="#step-3绘图过程循环"></a> Step 3：绘图过程——循环</h3>
<p>绘图过程我们可以把它放在一个<code>for</code>循环中。根据Step 1中所讲的，我们采用堆叠的方式去生成动态图像，，每一帧也就对应<code>for</code>循环中的一步，所以我们在<code>for</code>循环中每一步就需要生成从最原始点到目前帧需要出现画面的整条曲线。</p>
<p>在循环中，我们首先绘制我们的图像，例如平面电磁波向理想介质垂直入射一些绘图函数代码的书写。（<strong>程序的核心</strong>）</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 绘图前预备</span></span><br><span class="line">z=<span class="built_in">linspace</span> ( <span class="number">-15</span> ,<span class="number">0</span> ,<span class="number">1000</span>);</span><br><span class="line">zt=<span class="built_in">linspace</span> (<span class="number">0</span> ,<span class="number">15</span>,<span class="number">1000</span>);</span><br><span class="line">y=<span class="built_in">zeros</span> (<span class="number">1</span> ,<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 电场的入射波</span></span><br><span class="line"></span><br><span class="line">Ei=E0.*<span class="built_in">cos</span>( -k1.*z+(<span class="built_in">j</span>./<span class="number">90</span>).*<span class="built_in">pi</span>);</span><br><span class="line"><span class="built_in">plot3</span>(z,y,Ei ,<span class="string">'Color'</span> ,[<span class="number">0.00</span>,<span class="number">0.45</span>,<span class="number">0.74</span>],<span class="string">'LineWidth'</span> ,<span class="number">1.5</span>);</span><br><span class="line">grid on</span><br><span class="line"></span><br><span class="line"><span class="comment">% 电场的反射波</span></span><br><span class="line">Er=-E0.*<span class="built_in">cos</span>(k1.*z+(<span class="built_in">j</span>./<span class="number">90</span>).*<span class="built_in">pi</span>)./<span class="number">3</span>;</span><br><span class="line"><span class="built_in">plot3</span>(z,y,Er ,<span class="string">'Color'</span> ,[<span class="number">0.85</span>,<span class="number">0.33</span>,<span class="number">0.10</span>],<span class="string">'LineWidth'</span> ,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 电场的透射波</span></span><br><span class="line">Et=<span class="number">2</span>*E0.*<span class="built_in">cos</span>( -k2.*zt+(<span class="built_in">j</span>./<span class="number">90</span>).*<span class="built_in">pi</span>)./<span class="number">3</span>;;</span><br><span class="line"><span class="built_in">plot3</span>(zt ,y,Et ,<span class="string">'Color'</span> ,[<span class="number">0.47</span>,<span class="number">0.67</span>,<span class="number">0.19</span>],<span class="string">'LineWidth'</span> ,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">hold</span> off</span><br></pre></td></tr></table></figure>
<p>接着，我们再次获取该帧的GIF图像。（<strong>获取GIF的核心</strong>，<em>这段代码可以直接使用，不需要改动</em>）</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%下面是制作gif的主要代码，除了调节间隔时间外，一般不需要改动 </span></span><br><span class="line">ax = gca;</span><br><span class="line">ax.Units = <span class="string">'pixels'</span>;</span><br><span class="line">pos = ax.Position;</span><br><span class="line">ti = ax.TightInset;</span><br><span class="line">rect = [-ti(<span class="number">1</span>), -ti(<span class="number">2</span>), pos(<span class="number">3</span>)+ti(<span class="number">1</span>)+ti(<span class="number">3</span>), pos(<span class="number">4</span>)+ti(<span class="number">2</span>)+ti(<span class="number">4</span>)];</span><br><span class="line">frame = getframe(ax,rect);</span><br><span class="line">im=frame2im(frame);</span><br><span class="line">[I&#123;k&#125;,map&#123;k&#125;]=rgb2ind(im,<span class="number">256</span>);</span><br><span class="line"><span class="comment">%写入模式为“追加”模式</span></span><br><span class="line">imwrite(I&#123;k&#125;,map&#123;k&#125;,<span class="string">'mygif.gif'</span>,<span class="string">'gif'</span>,<span class="string">'WriteMode'</span>,<span class="string">'append'</span>,<span class="string">'DelayTime'</span>,<span class="number">0.1</span>);  </span><br><span class="line">k = k + <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p>最后，我们对<code>for</code>循环进行+1操作，进入下一次循环。</p>
<h3 id="step-4将图像序列反向写入gif文件中可选"><a class="markdownIt-Anchor" href="#step-4将图像序列反向写入gif文件中可选"></a> Step 4：将图像序列反向写入GIF文件中（可选）</h3>
<p>这个就是坑到我的地方了。其实我的平面电磁波向理想介质垂直入射并不需要反向写入的过程。如果反向写入后，Step 2中法Ⅱ所对应GIF所表现出的时序就是下图这样的。</p>
<p><img alt="演示" class="post-img b-lazy" data-img="/2020/06/27/matlab-note-01/%E6%BC%94%E7%A4%BA.png" data-index="5" data-src="/2020/06/27/matlab-note-01/%E6%BC%94%E7%A4%BA.png"></p>
<p>有需要的读者可以使用下列代码。</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%将图像按相反的顺序再写入到gif中</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = (k<span class="number">-1</span>):<span class="number">-1</span>:<span class="number">1</span></span><br><span class="line">imwrite(I&#123;<span class="built_in">i</span>&#125;,map&#123;<span class="built_in">i</span>&#125;,<span class="string">'mygif.gif'</span>,<span class="string">'gif'</span>,<span class="string">'WriteMode'</span>,<span class="string">'append'</span>,<span class="string">'DelayTime'</span>,<span class="number">0.1</span>);  </span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="例子"><a class="markdownIt-Anchor" href="#例子"></a> 例子</h3>
<h4 id="案例1平面电磁波向理想介质垂直入射的仿真结果"><a class="markdownIt-Anchor" href="#案例1平面电磁波向理想介质垂直入射的仿真结果"></a> 〔案例1〕平面电磁波向理想介质垂直入射的仿真结果</h4>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%% Normal incidence to ideal medium</span></span><br><span class="line">clear ,clc</span><br><span class="line">E0=<span class="number">1</span>; <span class="comment">% The amplitude of the incident wave at z = 0</span></span><br><span class="line">k1=<span class="built_in">pi</span>/<span class="number">2</span>;<span class="comment">% phase</span></span><br><span class="line">k2=<span class="built_in">pi</span>;<span class="comment">% phase</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%% Draw the interface between lossless medium and conductor</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">j</span>=<span class="number">1</span>:<span class="number">180</span></span><br><span class="line">    display(<span class="built_in">j</span>);</span><br><span class="line">    z = <span class="built_in">linspace</span>(<span class="number">-1.5</span>,<span class="number">1.5</span>,<span class="number">100</span>);</span><br><span class="line">    y = <span class="built_in">linspace</span>(<span class="number">-1.5</span>,<span class="number">1.5</span>,<span class="number">100</span>);</span><br><span class="line">    x = <span class="number">0.</span>*<span class="built_in">repmat</span>(z,<span class="number">100</span>,<span class="number">1</span>) + <span class="number">10000.</span>*<span class="built_in">repmat</span>(y,<span class="number">100</span>,<span class="number">1</span>);</span><br><span class="line">    surf(z,y,x);</span><br><span class="line">    alpha(<span class="number">.3</span>);</span><br><span class="line">    shading interp</span><br><span class="line">    <span class="built_in">hold</span> on</span><br><span class="line">    <span class="built_in">plot3</span> ([<span class="number">-15</span> <span class="number">15</span>],[<span class="number">0</span> <span class="number">0</span>],[<span class="number">0</span> <span class="number">0</span>],<span class="string">'k'</span>,<span class="string">'LineWidth'</span> ,<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">hold</span> on</span><br><span class="line">    <span class="built_in">plot3</span> ([<span class="number">0</span> <span class="number">0</span>],[<span class="number">-1.5</span> <span class="number">1.5</span>],[<span class="number">0</span> <span class="number">0</span>],<span class="string">'k'</span>,<span class="string">'LineWidth'</span> ,<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">hold</span> on</span><br><span class="line">    <span class="built_in">plot3</span> ([<span class="number">0</span> <span class="number">0</span>],[<span class="number">0</span> <span class="number">0</span>],[<span class="number">-1.5</span> <span class="number">1.5</span>],<span class="string">'k'</span>,<span class="string">'LineWidth'</span> ,<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">hold</span> on</span><br><span class="line">    xlabel(<span class="string">'$z$'</span>,<span class="string">'FontSize'</span>,<span class="number">14</span>,<span class="string">'Interpreter'</span>,<span class="string">'latex'</span>);ylabel(<span class="string">'$y$'</span>,<span class="string">'FontSize'</span>,<span class="number">14</span>,<span class="string">'Interpreter'</span>,<span class="string">'latex'</span>);zlabel(<span class="string">'$x$'</span>,<span class="string">'FontSize'</span>,<span class="number">14</span>,<span class="string">'Interpreter'</span>,<span class="string">'latex'</span>);</span><br><span class="line">    grid on</span><br><span class="line">    set(gca ,<span class="string">'XLim'</span> ,[<span class="number">-15</span> <span class="number">15</span>]);</span><br><span class="line">    set(gca ,<span class="string">'YLim'</span>,[<span class="number">-1.5</span> <span class="number">1.5</span>]);</span><br><span class="line">    set(gca ,<span class="string">'ZLim'</span>,[<span class="number">-1.5</span> <span class="number">1.5</span>]);</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">j</span>==<span class="number">1</span></span><br><span class="line">        annotation(<span class="string">'textbox'</span>,...</span><br><span class="line">            [<span class="number">0.433214285714286</span> <span class="number">0.278523812884377</span> <span class="number">0.17979066144921</span> <span class="number">0.0733333299727666</span>],...</span><br><span class="line">            <span class="string">'String'</span>,&#123;<span class="string">'$\varepsilon_1,\mu_1,\sigma_1=0$'</span>&#125;,...</span><br><span class="line">            <span class="string">'Interpreter'</span>,<span class="string">'latex'</span>,...</span><br><span class="line">            <span class="string">'FontSize'</span>,<span class="number">13</span>,...</span><br><span class="line">            <span class="string">'EdgeColor'</span>,<span class="string">'none'</span>);</span><br><span class="line">        annotation(<span class="string">'textbox'</span>,...</span><br><span class="line">            [<span class="number">0.70</span> <span class="number">0.393761908122476</span> <span class="number">0.195266855927426</span> <span class="number">0.0733333299727666</span>],...</span><br><span class="line">            <span class="string">'String'</span>,&#123;<span class="string">'$\varepsilon_2,\mu_2,\sigma_2=0$'</span>&#125;,...</span><br><span class="line">            <span class="string">'Interpreter'</span>,<span class="string">'latex'</span>,...</span><br><span class="line">            <span class="string">'FontSize'</span>,<span class="number">13</span>,...</span><br><span class="line">            <span class="string">'EdgeColor'</span>,<span class="string">'none'</span>);</span><br><span class="line">        </span><br><span class="line">        annotation(<span class="string">'textbox'</span>,[<span class="number">0.45</span> <span class="number">0.65</span> <span class="number">0.07</span> <span class="number">0.09</span>],...</span><br><span class="line">            <span class="string">'Color'</span>,[<span class="number">0.00</span>,<span class="number">0.45</span>,<span class="number">0.74</span>],...</span><br><span class="line">            <span class="string">'String'</span>,&#123;<span class="string">'$&#123;\vec E_i&#125;$'</span>&#125;,...</span><br><span class="line">            <span class="string">'Interpreter'</span>,<span class="string">'latex'</span>,...</span><br><span class="line">            <span class="string">'FontSize'</span>,<span class="number">15</span>,...</span><br><span class="line">            <span class="string">'FitBoxToText'</span>,<span class="string">'off'</span>,...</span><br><span class="line">            <span class="string">'EdgeColor'</span>,<span class="string">'none'</span>);</span><br><span class="line">        annotation(<span class="string">'textbox'</span>,[<span class="number">0.23</span> <span class="number">0.43</span> <span class="number">0.07</span> <span class="number">0.09</span>],...</span><br><span class="line">            <span class="string">'Color'</span>,[<span class="number">0.85</span>,<span class="number">0.33</span>,<span class="number">0.10</span>],...</span><br><span class="line">            <span class="string">'String'</span>,<span class="string">'$&#123;\vec E_r&#125;$'</span>,...</span><br><span class="line">            <span class="string">'Interpreter'</span>,<span class="string">'latex'</span>,...</span><br><span class="line">            <span class="string">'FontSize'</span>,<span class="number">15</span>,...</span><br><span class="line">            <span class="string">'FitBoxToText'</span>,<span class="string">'off'</span>,...</span><br><span class="line">            <span class="string">'EdgeColor'</span>,<span class="string">'none'</span>);</span><br><span class="line">        annotation(<span class="string">'textbox'</span>,[<span class="number">0.73</span> <span class="number">0.45</span> <span class="number">0.07</span> <span class="number">0.09</span>],...</span><br><span class="line">            <span class="string">'Color'</span>,[<span class="number">0.47</span>,<span class="number">0.67</span>,<span class="number">0.19</span>],...</span><br><span class="line">            <span class="string">'String'</span>,<span class="string">'$&#123;\vec E_t&#125;$'</span>,....</span><br><span class="line">            <span class="string">'Interpreter'</span>,<span class="string">'latex'</span>,...</span><br><span class="line">            <span class="string">'FontSize'</span>,<span class="number">15</span>,...</span><br><span class="line">            <span class="string">'FitBoxToText'</span>,<span class="string">'off'</span>,...</span><br><span class="line">            <span class="string">'EdgeColor'</span>,<span class="string">'none'</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">% Preperation of gif</span></span><br><span class="line">        ax = gca;</span><br><span class="line">        ax.Units = <span class="string">'pixels'</span>;</span><br><span class="line">        pos = ax.Position;</span><br><span class="line">        ti = ax.TightInset;</span><br><span class="line">        rect = [-ti(<span class="number">1</span>), -ti(<span class="number">2</span>), pos(<span class="number">3</span>)+ti(<span class="number">1</span>)+ti(<span class="number">3</span>), pos(<span class="number">4</span>)+ti(<span class="number">2</span>)+ti(<span class="number">4</span>)];</span><br><span class="line">        frame = getframe(ax,rect);</span><br><span class="line">        im=frame2im(frame);</span><br><span class="line">        k = <span class="number">1</span>;</span><br><span class="line">        [I&#123;k&#125;,map&#123;k&#125;]=rgb2ind(im,<span class="number">256</span>);</span><br><span class="line">        imwrite(I&#123;k&#125;,map&#123;k,<span class="number">1</span>&#125;,<span class="string">'lab032.gif'</span>,<span class="string">'gif'</span>,<span class="string">'Loopcount'</span>,Inf,<span class="string">'DelayTime'</span>,<span class="number">0.1</span>);</span><br><span class="line">        k = k + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">% Preperation of drawing</span></span><br><span class="line">    z=<span class="built_in">linspace</span> ( <span class="number">-15</span> ,<span class="number">0</span> ,<span class="number">1000</span>);</span><br><span class="line">    zt=<span class="built_in">linspace</span> (<span class="number">0</span> ,<span class="number">15</span>,<span class="number">1000</span>);</span><br><span class="line">    y=<span class="built_in">zeros</span> (<span class="number">1</span> ,<span class="number">1000</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">% Electric field of incident wave</span></span><br><span class="line">    </span><br><span class="line">    Ei=E0.*<span class="built_in">cos</span>( -k1.*z+(<span class="built_in">j</span>./<span class="number">90</span>).*<span class="built_in">pi</span>);</span><br><span class="line">    <span class="built_in">plot3</span>(z,y,Ei ,<span class="string">'Color'</span> ,[<span class="number">0.00</span>,<span class="number">0.45</span>,<span class="number">0.74</span>],<span class="string">'LineWidth'</span> ,<span class="number">1.5</span>);</span><br><span class="line">    grid on</span><br><span class="line">    </span><br><span class="line">    <span class="comment">% Electric field of reflected waves</span></span><br><span class="line">    Er=-E0.*<span class="built_in">cos</span>(k1.*z+(<span class="built_in">j</span>./<span class="number">90</span>).*<span class="built_in">pi</span>)./<span class="number">3</span>;</span><br><span class="line">    <span class="built_in">plot3</span>(z,y,Er ,<span class="string">'Color'</span> ,[<span class="number">0.85</span>,<span class="number">0.33</span>,<span class="number">0.10</span>],<span class="string">'LineWidth'</span> ,<span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">% Electric field of transmitted waves</span></span><br><span class="line">    Et=<span class="number">2</span>*E0.*<span class="built_in">cos</span>( -k2.*zt+(<span class="built_in">j</span>./<span class="number">90</span>).*<span class="built_in">pi</span>)./<span class="number">3</span>;;</span><br><span class="line">    <span class="built_in">plot3</span>(zt ,y,Et ,<span class="string">'Color'</span> ,[<span class="number">0.47</span>,<span class="number">0.67</span>,<span class="number">0.19</span>],<span class="string">'LineWidth'</span> ,<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">hold</span> off</span><br><span class="line"><span class="comment">%     N(j) = getframe;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">% Get GIF</span></span><br><span class="line">    ax = gca;</span><br><span class="line">    ax.Units = <span class="string">'pixels'</span>;</span><br><span class="line">    pos = ax.Position;</span><br><span class="line">    ti = ax.TightInset;</span><br><span class="line">    rect = [-ti(<span class="number">1</span>), -ti(<span class="number">2</span>), pos(<span class="number">3</span>)+ti(<span class="number">1</span>)+ti(<span class="number">3</span>), pos(<span class="number">4</span>)+ti(<span class="number">2</span>)+ti(<span class="number">4</span>)];</span><br><span class="line">    frame = getframe(ax,rect);</span><br><span class="line">    im=frame2im(frame);</span><br><span class="line">    [I&#123;k&#125;,map&#123;k&#125;]=rgb2ind(im,<span class="number">256</span>);</span><br><span class="line">    imwrite(I&#123;k&#125;,map&#123;k&#125;,<span class="string">'lab032.gif'</span>,<span class="string">'gif'</span>,<span class="string">'WriteMode'</span>,<span class="string">'append'</span>,<span class="string">'DelayTime'</span>,<span class="number">0.1</span>);</span><br><span class="line">    k = k + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% Write the image to the GIF in reverse order</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = (k<span class="number">-1</span>):<span class="number">-1</span>:<span class="number">1</span></span><br><span class="line">    imwrite(I&#123;<span class="built_in">i</span>&#125;,map&#123;<span class="built_in">i</span>&#125;,<span class="string">'lab032.gif'</span>,<span class="string">'gif'</span>,<span class="string">'WriteMode'</span>,<span class="string">'append'</span>,<span class="string">'DelayTime'</span>,<span class="number">0.1</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% Function to play animation</span></span><br><span class="line"><span class="comment">% for i=1:2</span></span><br><span class="line"><span class="comment">%     movie(N,1,30);</span></span><br><span class="line"><span class="comment">% end</span></span><br></pre></td></tr></table></figure>
<p><img alt="lab032" class="post-img b-lazy" data-img="/2020/06/27/matlab-note-01/lab032.gif" data-index="6" data-src="/2020/06/27/matlab-note-01/lab032.gif"></p>
<blockquote>
<p>❗值得注意的是</p>
<p>如果我们将制作GIF的代码注释掉转而保留</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">N(j) &#x3D; getframe;</span><br><span class="line">%% Function to play animation</span><br><span class="line">for i&#x3D;1:10</span><br><span class="line">    movie(N,1,30);</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p>我们就可让这个动画效果播放10遍。利用的就是<code>getframe</code>获取帧函数和<code>moive</code>播放函数了。</p>
</blockquote>
<h4 id="案例2eitcos-tisin-t"><a class="markdownIt-Anchor" href="#案例2eitcos-tisin-t"></a> 〔案例2〕<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mrow><mi>i</mi><mi>t</mi></mrow></msup><mo>=</mo><mi>cos</mi><mo>⁡</mo><mi>t</mi><mo>+</mo><mi>i</mi><mi>sin</mi><mo>⁡</mo><mi>t</mi></mrow><annotation encoding="application/x-tex">e^{it}=\cos t+i\sin t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">t</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69841em;vertical-align:-0.08333em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66786em;vertical-align:0em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span></span></span></span></h4>
<p>来自<a href="https://www.jianshu.com/p/cd9501bc810a" target="_blank" rel="noopener">参考文献1</a></p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%适用于在一幅图中表现给图过程，即图形的增长过程</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%主要用来绘制三维的欧拉公式</span></span><br><span class="line">clc;clear;clf;close all;</span><br><span class="line"></span><br><span class="line"><span class="comment">%获得数据</span></span><br><span class="line">tmax = <span class="number">4</span>*<span class="built_in">pi</span>;</span><br><span class="line">t = <span class="number">0</span>:<span class="number">0.01</span>:tmax;</span><br><span class="line">tmp = <span class="built_in">exp</span>(<span class="number">1</span><span class="built_in">i</span>*t);</span><br><span class="line">x = <span class="built_in">real</span>(tmp);</span><br><span class="line">y = <span class="built_in">imag</span>(tmp);</span><br><span class="line">[a,b] = <span class="built_in">size</span>(x);</span><br><span class="line">y1 = <span class="built_in">zeros</span>(a,b) ;</span><br><span class="line">x1 = <span class="built_in">zeros</span>(a,b);</span><br><span class="line"></span><br><span class="line"><span class="comment">%确定首幅图的样式，并指定标题，坐标轴标题等样式</span></span><br><span class="line"><span class="built_in">plot3</span>(x(<span class="number">1</span>,<span class="number">1</span>),t(<span class="number">1</span>,<span class="number">1</span>),y(<span class="number">1</span>,<span class="number">1</span>),<span class="string">'black'</span>);</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line"><span class="built_in">plot3</span>(x(<span class="number">1</span>,<span class="number">1</span>),t(<span class="number">1</span>,<span class="number">1</span>),y1(<span class="number">1</span>,<span class="number">1</span>),<span class="string">'blue'</span>);</span><br><span class="line"><span class="built_in">plot3</span>(x1(<span class="number">1</span>,<span class="number">1</span>),t(<span class="number">1</span>,<span class="number">1</span>),y(<span class="number">1</span>,<span class="number">1</span>),<span class="string">'r'</span>);</span><br><span class="line">axis([<span class="number">-1</span>,<span class="number">1</span>,<span class="number">0</span>,tmax,<span class="number">-1</span>,<span class="number">1</span>])</span><br><span class="line">str = [<span class="string">'$$&#123;e^&#123;it&#125;&#125; = \cos t + i\sin t $$'</span>,char(<span class="number">13</span>,<span class="number">10</span>)',<span class="string">'created by Lijunjie!'</span>];</span><br><span class="line">title(&#123;str&#125;,<span class="string">'interpreter'</span>,<span class="string">'latex'</span>)</span><br><span class="line">xlabel(<span class="string">'实轴'</span>);</span><br><span class="line">ylabel(<span class="string">'时间轴'</span>);</span><br><span class="line">zlabel(<span class="string">'虚轴'</span>);</span><br><span class="line">grid on;</span><br><span class="line">set(gcf,<span class="string">'Position'</span>,[<span class="number">0</span>,<span class="number">0</span>,<span class="number">600</span>,<span class="number">600</span>], <span class="string">'color'</span>,<span class="string">'w'</span>);</span><br><span class="line">set(gca,<span class="string">'ydir'</span>,<span class="string">'reverse'</span>)   <span class="comment">%反转坐标轴</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%确保图像在采集的过程中包括坐标轴及标题</span></span><br><span class="line">ax = gca;</span><br><span class="line">ax.Units = <span class="string">'pixels'</span>;</span><br><span class="line">pos = ax.Position;</span><br><span class="line">ti = ax.TightInset;</span><br><span class="line">rect = [-ti(<span class="number">1</span>), -ti(<span class="number">2</span>), pos(<span class="number">3</span>)+ti(<span class="number">1</span>)+ti(<span class="number">3</span>), pos(<span class="number">4</span>)+ti(<span class="number">2</span>)+ti(<span class="number">4</span>)];</span><br><span class="line"></span><br><span class="line"><span class="comment">%在指定的范围内获得图像文件</span></span><br><span class="line">frame = getframe(ax,rect);</span><br><span class="line">im=frame2im(frame);</span><br><span class="line"></span><br><span class="line"><span class="comment">%创建gif文件，指定其样式，写入首帧图像</span></span><br><span class="line">k = <span class="number">1</span>;</span><br><span class="line"><span class="comment">%用胞元存储采集到的图像，方便后面反转图像用</span></span><br><span class="line">[I&#123;k&#125;,map&#123;k&#125;]=rgb2ind(im,<span class="number">256</span>);</span><br><span class="line">imwrite(I&#123;k&#125;,map&#123;k,<span class="number">1</span>&#125;,<span class="string">'mygif.gif'</span>,<span class="string">'gif'</span>,<span class="string">'Loopcount'</span>,Inf,<span class="string">'DelayTime'</span>,<span class="number">0.2</span>);</span><br><span class="line"> k = k + <span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">%画图并采集到gif中</span></span><br><span class="line">steptmp = <span class="number">20</span>;   <span class="comment">%每幅图要画的点数</span></span><br><span class="line"><span class="built_in">i</span> = steptmp;</span><br><span class="line"><span class="keyword">while</span> <span class="built_in">i</span> &lt; (b<span class="number">-1</span>)</span><br><span class="line">    x_1 = x(<span class="number">1</span>,(<span class="built_in">i</span>-steptmp+<span class="number">1</span>):<span class="built_in">i</span>+<span class="number">1</span>);</span><br><span class="line">    t_1 = t(<span class="number">1</span>,(<span class="built_in">i</span>-steptmp+<span class="number">1</span>):<span class="built_in">i</span>+<span class="number">1</span>);</span><br><span class="line">    y_1 = y(<span class="number">1</span>,(<span class="built_in">i</span>-steptmp+<span class="number">1</span>):<span class="built_in">i</span>+<span class="number">1</span>);</span><br><span class="line">    y1_1 = y1(<span class="number">1</span>,(<span class="built_in">i</span>-steptmp+<span class="number">1</span>):<span class="built_in">i</span>+<span class="number">1</span>);</span><br><span class="line">    x1_1 = x1(<span class="number">1</span>,(<span class="built_in">i</span>-steptmp+<span class="number">1</span>):<span class="built_in">i</span>+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">plot3</span>(x_1,t_1,y_1,<span class="string">'black'</span>);</span><br><span class="line">    <span class="built_in">hold</span> on</span><br><span class="line">    <span class="built_in">plot3</span>(x_1,t_1,y1_1,<span class="string">'blue'</span>);</span><br><span class="line">    <span class="built_in">plot3</span>(x1_1,t_1,y_1,<span class="string">'r'</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">%下面是制作gif的主要代码，除了调节间隔时间外，一般不需要改动 </span></span><br><span class="line">    ax = gca;</span><br><span class="line">    ax.Units = <span class="string">'pixels'</span>;</span><br><span class="line">    pos = ax.Position;</span><br><span class="line">    ti = ax.TightInset;</span><br><span class="line">    rect = [-ti(<span class="number">1</span>), -ti(<span class="number">2</span>), pos(<span class="number">3</span>)+ti(<span class="number">1</span>)+ti(<span class="number">3</span>), pos(<span class="number">4</span>)+ti(<span class="number">2</span>)+ti(<span class="number">4</span>)];</span><br><span class="line">    frame = getframe(ax,rect);</span><br><span class="line">    im=frame2im(frame);</span><br><span class="line">    [I&#123;k&#125;,map&#123;k&#125;]=rgb2ind(im,<span class="number">256</span>);</span><br><span class="line">    <span class="comment">%写入模式为“追加”模式</span></span><br><span class="line">    imwrite(I&#123;k&#125;,map&#123;k&#125;,<span class="string">'mygif.gif'</span>,<span class="string">'gif'</span>,<span class="string">'WriteMode'</span>,<span class="string">'append'</span>,<span class="string">'DelayTime'</span>,<span class="number">0.1</span>);  </span><br><span class="line">    k = k + <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">i</span> = <span class="built_in">i</span> + steptmp;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%将图像按相反的顺序再写入到gif中</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = (k<span class="number">-1</span>):<span class="number">-1</span>:<span class="number">1</span></span><br><span class="line">imwrite(I&#123;<span class="built_in">i</span>&#125;,map&#123;<span class="built_in">i</span>&#125;,<span class="string">'mygif.gif'</span>,<span class="string">'gif'</span>,<span class="string">'WriteMode'</span>,<span class="string">'append'</span>,<span class="string">'DelayTime'</span>,<span class="number">0.1</span>);  </span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p><img alt="mygif" class="post-img b-lazy" data-img="/2020/06/27/matlab-note-01/mygif.gif" data-index="7" data-src="/2020/06/27/matlab-note-01/mygif.gif"></p>
<h4 id="案例3二阶系统的极点-频率特性"><a class="markdownIt-Anchor" href="#案例3二阶系统的极点-频率特性"></a> 〔案例3〕二阶系统的极点、频率特性</h4>
<p>来自<a href="https://www.jianshu.com/p/cd9501bc810a" target="_blank" rel="noopener">参考文献1</a></p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">second_order_system_gif_1</span><span class="params">()</span></span></span><br><span class="line">    <span class="comment">%此种情况用来表示某个参数变化时，对相关图形的影响</span></span><br><span class="line">    <span class="comment">%此函数用来表示当二阶系统的共轭极点的虚部变化时对系统的</span></span><br><span class="line">    <span class="comment">%频率响应和阶跃响应的影响</span></span><br><span class="line">    <span class="comment">%后期可以通过Ulead GIF Animator软件将这4张gif合并在一起</span></span><br><span class="line">    <span class="comment">%问题：图像大小设置为某些值时，可能会出错，需要重新调整</span></span><br><span class="line">    </span><br><span class="line">    clc;clear;close all;</span><br><span class="line">    <span class="comment">%初始化数据</span></span><br><span class="line">    b = <span class="number">2</span>;</span><br><span class="line">    a = <span class="number">0</span>:<span class="number">0.5</span>:<span class="number">20</span>;</span><br><span class="line">    [~,size_a] = <span class="built_in">size</span>(a);</span><br><span class="line">    num = b.^<span class="number">2</span> + a.^<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:size_a</span><br><span class="line">        den&#123;<span class="built_in">i</span>&#125; = conv([<span class="number">1</span> b + a(<span class="built_in">i</span>) * <span class="number">1</span><span class="built_in">i</span>],[<span class="number">1</span>  b - a(<span class="built_in">i</span>) * <span class="number">1</span><span class="built_in">i</span>]);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    w = <span class="number">0</span>:<span class="number">0.01</span>:<span class="number">30</span>;</span><br><span class="line">    k = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">%有多幅图，用胞元数组来指定文件名，从而方便在循环中使用</span></span><br><span class="line">    fieldnames = &#123;<span class="string">'1.gif'</span>,<span class="string">'2.gif'</span>,<span class="string">'3.gif'</span>,<span class="string">'4.gif'</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">%画图，并制作gif</span></span><br><span class="line">    <span class="comment">%由于每次画图都要擦掉上一次画的图，所以图形不能一直用hold on</span></span><br><span class="line">     <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="number">1</span>:size_a</span><br><span class="line">        <span class="comment">%完成图像的绘制，为了保证效果，要保证图像大小以及</span></span><br><span class="line">        <span class="comment">%坐标轴的范围不变</span></span><br><span class="line">        <span class="built_in">figure</span>(<span class="number">1</span>);</span><br><span class="line">         set(gcf,<span class="string">'Position'</span>,[<span class="number">0</span>,<span class="number">0</span>,<span class="number">300</span>,<span class="number">400</span>], <span class="string">'color'</span>,<span class="string">'w'</span>); </span><br><span class="line">         </span><br><span class="line">         [hz,hp,ht] = zplane(num(<span class="built_in">i</span>),den&#123;<span class="built_in">i</span>&#125;);</span><br><span class="line">         <span class="built_in">hold</span> on;</span><br><span class="line">         x_data = [<span class="number">0</span> hp.XData <span class="number">0</span>];</span><br><span class="line">         y_data = [<span class="number">0</span> hp.YData <span class="number">0</span>];</span><br><span class="line">         <span class="built_in">plot</span>(x_data,y_data,<span class="string">'--'</span>);</span><br><span class="line">         ylim([<span class="number">-22</span>,<span class="number">22</span>]);</span><br><span class="line">         xlim([<span class="number">-6</span>,<span class="number">6</span>]);</span><br><span class="line">         title([<span class="string">'二阶系统的极点'</span>,char(<span class="number">10</span>,<span class="number">13</span>)',...</span><br><span class="line">             <span class="string">'Created by Lijunjie'</span>]);</span><br><span class="line">         set(gca,<span class="string">'XTick'</span>,[<span class="number">-6</span>:<span class="number">2</span>:<span class="number">6</span>]);</span><br><span class="line">         <span class="built_in">hold</span> off</span><br><span class="line">        </span><br><span class="line">        <span class="comment">%采集绘制频率响应的数据</span></span><br><span class="line">        h = freqs(num(<span class="built_in">i</span>), den&#123;<span class="built_in">i</span>&#125;,w);</span><br><span class="line">        mag = <span class="built_in">abs</span>(h);</span><br><span class="line">        phase = <span class="built_in">angle</span>(h);</span><br><span class="line">        phasedeg = phase*<span class="number">180</span>/<span class="built_in">pi</span>;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">figure</span>(<span class="number">2</span>)</span><br><span class="line">        picture_positon;</span><br><span class="line">        <span class="built_in">plot</span>(w,mag);</span><br><span class="line">        grid on;</span><br><span class="line">        xlabel <span class="string">'Frequency (rad/s)'</span>, ylabel Magnitude</span><br><span class="line">        ylim([<span class="number">0</span> <span class="number">5.5</span>]);</span><br><span class="line">        xlim([<span class="number">0</span> <span class="number">30</span>]);</span><br><span class="line">        title([<span class="string">'二阶系统的幅频特性'</span>,char(<span class="number">10</span>,<span class="number">13</span>)',...</span><br><span class="line">             <span class="string">'Created by Lijunjie'</span>]);</span><br><span class="line">        <span class="built_in">figure</span>(<span class="number">3</span>);</span><br><span class="line">        picture_positon;</span><br><span class="line">        <span class="built_in">plot</span>(w,phasedeg);</span><br><span class="line">        xlabel <span class="string">'Frequency (rad/s)'</span>, ylabel <span class="string">'Phase (degrees)'</span>;</span><br><span class="line">        ylim([<span class="number">-200</span>,<span class="number">0</span>]);</span><br><span class="line">        xlim([<span class="number">0</span> <span class="number">30</span>]);</span><br><span class="line">        title([<span class="string">'二阶系统的相频特性'</span>,char(<span class="number">10</span>,<span class="number">13</span>)',...</span><br><span class="line">             <span class="string">'Created by Lijunjie'</span>]); </span><br><span class="line">         </span><br><span class="line">         sys = tf(num(<span class="built_in">i</span>),den&#123;<span class="built_in">i</span>&#125;);</span><br><span class="line">         <span class="built_in">figure</span>(<span class="number">4</span>)</span><br><span class="line">         [y_tmp,t_tmp] = step(sys,<span class="number">3.5</span>);</span><br><span class="line">         <span class="built_in">plot</span>(t_tmp,y_tmp);</span><br><span class="line">         picture_positon;</span><br><span class="line">         title([<span class="string">'二阶系统的阶跃响应'</span>,char(<span class="number">10</span>,<span class="number">13</span>)',...</span><br><span class="line">             <span class="string">'Created by Lijunjie'</span>]); </span><br><span class="line">         xlabel(<span class="string">'Time(seconds)'</span>);</span><br><span class="line">         ylabel(<span class="string">'Amplitude'</span>);</span><br><span class="line">         axis([<span class="number">0</span> <span class="number">3.5</span> <span class="number">0</span> <span class="number">2</span>]);</span><br><span class="line">         </span><br><span class="line">        <span class="comment">%制作pdf</span></span><br><span class="line">        <span class="keyword">if</span>  <span class="built_in">i</span> == <span class="number">1</span></span><br><span class="line">            <span class="comment">%采集到首帧，需要设置gif的样式，以及确定图像的大小</span></span><br><span class="line">            <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="number">4</span></span><br><span class="line">                <span class="built_in">figure</span>(<span class="built_in">j</span>)</span><br><span class="line">                frame = getframe(gcf); <span class="comment">% 获取整个窗口内容的图像</span></span><br><span class="line">                im=frame2im(frame);</span><br><span class="line">                [I&#123;<span class="built_in">j</span>,k&#125;,map&#123;<span class="built_in">j</span>,k&#125;]=rgb2ind(im,<span class="number">256</span>);</span><br><span class="line">                imwrite(I&#123;<span class="built_in">j</span>,k&#125;,map&#123;<span class="built_in">j</span>,k&#125;,fieldnames&#123;<span class="built_in">j</span>&#125;,<span class="string">'gif'</span>,<span class="string">'Loopcount'</span>,Inf,<span class="string">'DelayTime'</span>,<span class="number">0.2</span>);</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="number">4</span></span><br><span class="line">                <span class="built_in">figure</span>(<span class="built_in">j</span>)</span><br><span class="line">                frame = getframe(gcf);<span class="comment">% 获取整个窗口内容的图像</span></span><br><span class="line">                im=frame2im(frame);</span><br><span class="line">                [I&#123;<span class="built_in">j</span>,k&#125;,map&#123;<span class="built_in">j</span>,k&#125;]=rgb2ind(im,<span class="number">256</span>);</span><br><span class="line">                <span class="comment">%追加模式</span></span><br><span class="line">                imwrite(I&#123;<span class="built_in">j</span>,k&#125;,map&#123;<span class="built_in">j</span>,k&#125;,fieldnames&#123;<span class="built_in">j</span>&#125;,<span class="string">'gif'</span>,<span class="string">'WriteMode'</span>,<span class="string">'append'</span>,<span class="string">'DelayTime'</span>,<span class="number">0.1</span>);  </span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        k = k + <span class="number">1</span>;</span><br><span class="line">     <span class="keyword">end</span></span><br><span class="line">     </span><br><span class="line">     <span class="comment">%将采集到的图像以相反的顺序写入</span></span><br><span class="line">     <span class="keyword">for</span> <span class="built_in">i</span> = (k<span class="number">-1</span>):<span class="number">-1</span>:<span class="number">1</span></span><br><span class="line">         <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="number">4</span></span><br><span class="line">             imwrite(I&#123;<span class="built_in">j</span>,<span class="built_in">i</span>&#125;,map&#123;<span class="built_in">j</span>,<span class="built_in">i</span>&#125;,fieldnames&#123;<span class="built_in">j</span>&#125;,<span class="string">'gif'</span>,<span class="string">'WriteMode'</span>,<span class="string">'append'</span>,<span class="string">'DelayTime'</span>,<span class="number">0.1</span>); </span><br><span class="line">         <span class="keyword">end</span></span><br><span class="line">     <span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">picture_positon</span></span></span><br><span class="line">        <span class="comment">%设置图像的大小</span></span><br><span class="line">       set(gcf,<span class="string">'Position'</span>,[<span class="number">0</span>,<span class="number">0</span>,<span class="number">600</span>,<span class="number">400</span>], <span class="string">'color'</span>,<span class="string">'w'</span>); </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"> <span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p><img alt="1" style="zoom:67%;" class="post-img b-lazy" data-img="/2020/06/27/matlab-note-01/1.gif" data-index="8" data-src="/2020/06/27/matlab-note-01/1.gif"><img alt="2" style="zoom:67%;" class="post-img b-lazy" data-img="/2020/06/27/matlab-note-01/2.gif" data-index="9" data-src="/2020/06/27/matlab-note-01/2.gif"></p>
<p><img alt="3" style="zoom:50%;" class="post-img b-lazy" data-img="/2020/06/27/matlab-note-01/3.gif" data-index="10" data-src="/2020/06/27/matlab-note-01/3.gif"><img alt="4" style="zoom:50%;" class="post-img b-lazy" data-img="/2020/06/27/matlab-note-01/4.gif" data-index="11" data-src="/2020/06/27/matlab-note-01/4.gif"></p>
<h3 id="一些注意事项"><a class="markdownIt-Anchor" href="#一些注意事项"></a> 一些注意事项</h3>
<ol>
<li>这个功能搭配<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord text"><span class="mord textrm sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span>札记第一篇，即可在<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord text"><span class="mord textrm sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span>制作的PDF中播放动画效果了，还是很炫酷。</li>
<li>这样制作的图片清晰度还可以，但是还是图片质量存在一定的损失的，但是看上去还可以。</li>
<li>这样制作的图像最后获得矢量图，可能会存在一定的小问题：尤其当我们需要导出最终图像的矢量格式时，甚至会出现断点问题，这点在有两条重叠线的情况下最甚。</li>
<li>代码基本可以直接套用，需要更改的地方不是很多，建议看懂Step 4，再去使用反向写入功能，其实大部分情况下，我们是不需要反向写入的。</li>
</ol>
<h2 id="参考文献"><a class="markdownIt-Anchor" href="#参考文献"></a> 参考文献</h2>
<ol>
<li>木子识时务.Matlab绘制动态 .gif 图[EB/OL].<a href="https://www.jianshu.com/p/cd9501bc810a" target="_blank" rel="noopener">https://www.jianshu.com/p/cd9501bc810a</a>.2017-08-20/2020-06-27.</li>
</ol>

                </article>
                <ul class="tags-postTags">
                    
                    <li>
                        <a href="/tags/MATLAB/" rel="tag"># MATLAB</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </div>
    
    
    <div>
        <div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JS库 sweetalert 可修改路径 -->
  <script type="text/javascript" src="http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js"></script>
  <script src="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js"></script>
  <link rel="stylesheet" type="text/css" href="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css">

  <p><span>本文标题:</span>MATLAB札记（一）：让图像动起来</p>
  <p><span>文章作者:</span>Levitate_</p>
  <p><span>发布时间:</span>2020年06月27日 - 09:25:30</p>
  <p><span>原始链接:</span><a href="/2020/06/27/matlab-note-01/" title="MATLAB札记（一）：让图像动起来">https://levitate-qian.github.io/2020/06/27/matlab-note-01/</a>
    <span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://levitate-qian.github.io/2020/06/27/matlab-note-01/" aria-label="复制成功！"></i></span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
    clipboard.on('success', $(function(){
      $(".fa-clipboard").click(function(){
        swal({   
          title: "",   
          text: '复制成功',   
          html: false,
          timer: 500,   
          showConfirmButton: false
        });
      });
    }));  
</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
    </div>
    
    

    
    <nav id="gobottom" class="pagination">
        
        <a class="prev-post" title="LaTeX札记（二）：表格" href="/2020/07/06/latex-note-02/">
            ← LaTeX札记（二）：表格
        </a>
        
        <span class="prev-next-post">·</span>
        
        <a class="next-post" title="【转】数学建模竞赛经验分享" href="/2020/06/18/MCM-experience-sharing/">
            【转】数学建模竞赛经验分享 →
        </a>
        
    </nav>

    
    <div class="inner">
        <div id="comment"></div>
    </div>
    
</div>

<div class="toc-bar">
    <div class="toc-btn-bar">
        <a href="#site-main" class="toc-btn">
            <svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M793.024 710.272a32 32 0 1 0 45.952-44.544l-310.304-320a32 32 0 0 0-46.4 0.48l-297.696 320a32 32 0 0 0 46.848 43.584l274.752-295.328 286.848 295.808z"/></svg>
        </a>
        <div class="toc-btn toc-switch">
            <svg class="toc-open" viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M779.776 480h-387.2a32 32 0 0 0 0 64h387.2a32 32 0 0 0 0-64M779.776 672h-387.2a32 32 0 0 0 0 64h387.2a32 32 0 0 0 0-64M256 288a32 32 0 1 0 0 64 32 32 0 0 0 0-64M392.576 352h387.2a32 32 0 0 0 0-64h-387.2a32 32 0 0 0 0 64M256 480a32 32 0 1 0 0 64 32 32 0 0 0 0-64M256 672a32 32 0 1 0 0 64 32 32 0 0 0 0-64"/></svg>
            <svg class="toc-close hide" viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M512 960c-247.039484 0-448-200.960516-448-448S264.960516 64 512 64 960 264.960516 960 512 759.039484 960 512 960zM512 128.287273c-211.584464 0-383.712727 172.128262-383.712727 383.712727 0 211.551781 172.128262 383.712727 383.712727 383.712727 211.551781 0 383.712727-172.159226 383.712727-383.712727C895.712727 300.415536 723.551781 128.287273 512 128.287273z"/><path d="M557.05545 513.376159l138.367639-136.864185c12.576374-12.416396 12.672705-32.671738 0.25631-45.248112s-32.704421-12.672705-45.248112-0.25631l-138.560301 137.024163-136.447897-136.864185c-12.512727-12.512727-32.735385-12.576374-45.248112-0.063647-12.512727 12.480043-12.54369 32.735385-0.063647 45.248112l136.255235 136.671523-137.376804 135.904314c-12.576374 12.447359-12.672705 32.671738-0.25631 45.248112 6.271845 6.335493 14.496116 9.504099 22.751351 9.504099 8.12794 0 16.25588-3.103239 22.496761-9.247789l137.567746-136.064292 138.687596 139.136568c6.240882 6.271845 14.432469 9.407768 22.65674 9.407768 8.191587 0 16.352211-3.135923 22.591372-9.34412 12.512727-12.480043 12.54369-32.704421 0.063647-45.248112L557.05545 513.376159z"/></svg>
        </div>
        <a href="#gobottom" class="toc-btn">
            <svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M231.424 346.208a32 32 0 0 0-46.848 43.584l297.696 320a32 32 0 0 0 46.4 0.48l310.304-320a32 32 0 1 0-45.952-44.544l-286.848 295.808-274.752-295.36z"/></svg>
        </a>
    </div>
    <div class="toc-main">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#matlab札记一让图像动起来"><span class="toc-text"> MATLAB札记（一）——让图像动起来</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#引入"><span class="toc-text"> 引入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前期准备原理"><span class="toc-text"> 前期准备——原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#step-0确定好绘图的函数"><span class="toc-text"> Step 0：确定好绘图的函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#step-1让静态的变成动态的"><span class="toc-text"> Step 1：让静态的变成动态的</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#法i不考虑生成gif只要求能在matlab中看到动效"><span class="toc-text"> 法Ⅰ：不考虑生成GIF，只要求能在MATLAB中看到动效。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#法ii利用堆叠关系或者有动态效果的图"><span class="toc-text"> 法Ⅱ：利用堆叠关系，或者有动态效果的图。</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关键步骤利用函数写进gif中"><span class="toc-text"> 关键步骤——利用函数写进GIF中</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#step-2获得首帧画面"><span class="toc-text"> Step 2：获得首帧画面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#step-3绘图过程循环"><span class="toc-text"> Step 3：绘图过程——循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#step-4将图像序列反向写入gif文件中可选"><span class="toc-text"> Step 4：将图像序列反向写入GIF文件中（可选）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#例子"><span class="toc-text"> 例子</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#案例1平面电磁波向理想介质垂直入射的仿真结果"><span class="toc-text"> 〔案例1〕平面电磁波向理想介质垂直入射的仿真结果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#案例2eitcos-tisin-t"><span class="toc-text"> 〔案例2〕eit&#x3D;cos⁡t+isin⁡te^{it}&#x3D;\cos t+i\sin teit&#x3D;cost+isint</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#案例3二阶系统的极点-频率特性"><span class="toc-text"> 〔案例3〕二阶系统的极点、频率特性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一些注意事项"><span class="toc-text"> 一些注意事项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考文献"><span class="toc-text"> 参考文献</span></a></li></ol></li></ol>
    
    </div>
</div>



<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>




	</div>
	


<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
            

<article class="read-next-card" style="background-image: url(https://s1.ax1x.com/2020/08/09/a7ycNV.png)">
  <header class="read-next-card-header">
    <small class="read-next-card-header-sitetitle">&mdash; Levitate_ &mdash;</small>
    <h3 class="read-next-card-header-title">最新文章</h3>
  </header>
  <div class="read-next-divider">
    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
      <path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/>
    </svg>
  </div>
  <div class="read-next-card-content">
    <ul>
      
      
      
      <li>
        <a href="/2024/03/30/LeetCode-problems/">【更新中】LeetCode自用刷题记录</a>
      </li>
      
      
      
      <li>
        <a href="/2024/01/01/latex-note-06/">LaTeX札记（六）：MATLAB与TikZ绘图</a>
      </li>
      
      
      
      <li>
        <a href="/2023/04/05/python-matlab/">【科研札记】Python和MATLAB的协同使用</a>
      </li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    </ul>
  </div>
  <footer class="read-next-card-footer">
    <a href="/archives">  MORE  → </a>
  </footer>
</article>

            
            
            

<article class="read-next-card" style="background-image: url(https://s1.ax1x.com/2020/08/09/a7ycNV.png)">
    <header class="read-next-card-header tagcloud-card">
        <h3 class="read-next-card-header-title">分类</h3>
    </header>
    <div class="read-next-card-content">
        <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/LaTeX/">LaTeX</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/">人工智能</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%9E%E9%AA%8C/">实验</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%80%BB%E7%BB%93/">总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></li></ul>
    </div>
</article>


            
            
            

<article class="read-next-card" style="background-image: url(https://s1.ax1x.com/2020/08/09/a7ycNV.png)">
	<header class="read-next-card-header tagcloud-card">
		<h3 class="read-next-card-header-title">标签云</h3>
	</header>
	<div class="read-next-card-content-ext">
		<a href="/tags/AI/" style="font-size: 19.71px;">AI</a> <a href="/tags/MATLAB/" style="font-size: 18.29px;">MATLAB</a> <a href="/tags/MIMO/" style="font-size: 19.71px;">MIMO</a> <a href="/tags/Vscode/" style="font-size: 15.43px;">Vscode</a> <a href="/tags/git/" style="font-size: 14px;">git</a> <a href="/tags/iPad/" style="font-size: 14px;">iPad</a> <a href="/tags/ssh/" style="font-size: 14px;">ssh</a> <a href="/tags/%E4%BF%A1%E5%8F%B7/" style="font-size: 14px;">信号</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 14px;">博客</a> <a href="/tags/%E5%A4%A7%E5%AD%A6/" style="font-size: 14px;">大学</a> <a href="/tags/%E5%B0%84%E9%A2%91/" style="font-size: 15.43px;">射频</a> <a href="/tags/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1/" style="font-size: 19.71px;">数学建模</a> <a href="/tags/%E6%97%A0%E7%BA%BF%E9%80%9A%E4%BF%A1/" style="font-size: 22.57px;">无线通信</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 16.86px;">机器学习</a> <a href="/tags/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/" style="font-size: 15.43px;">模拟电子技术</a> <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 21.14px;">深度学习</a> <a href="/tags/%E7%94%B5%E7%A3%81%E5%9C%BA%E4%B8%8E%E7%94%B5%E7%A3%81%E6%B3%A2/" style="font-size: 16.86px;">电磁场与电磁波</a> <a href="/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" style="font-size: 15.43px;">神经网络</a> <a href="/tags/%E7%BC%96%E7%A8%8B/" style="font-size: 14px;">编程</a> <a href="/tags/%E8%AE%BA%E6%96%87/" style="font-size: 24px;">论文</a> <a href="/tags/%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86/" style="font-size: 15.43px;">通信原理</a> <a href="/tags/%E9%A2%84%E7%BC%96%E7%A0%81/" style="font-size: 16.86px;">预编码</a>
	</div>
</article>

            
        </div>
    </div>
</aside>

	




<div id="search" class="search-overlay">
    <div class="search-form">
        
        <div class="search-overlay-logo">
        	<img src="https://s1.ax1x.com/2022/05/18/Oo3OeI.png" alt="Levitate_">
        </div>
        
        <input id="local-search-input" class="search-input" type="text" name="search" placeholder="搜索 ...">
        <a class="search-overlay-close" href="#"></a>
    </div>
    <div id="local-search-result"></div>
</div>

<footer class="site-footer outer">
	<div class="site-footer-content inner">
		<div class="copyright">
			<a href="/" title="Levitate_">Levitate_ &copy; 2020-2024</a>
			
				
			        <span hidden="true" id="/2020/06/27/matlab-note-01/" class="leancloud-visitors" data-flag-title="MATLAB札记（一）：让图像动起来">
			            <span>阅读量 </span>
			            <span class="leancloud-visitors-count">0</span>
			        </span>
	    		
    		
		</div>
		<nav class="site-footer-nav">
			
			<a href="/atom.xml" title="RSS" target="_blank" rel="noopener">RSS</a>
			
			<a href="https://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
			<a href="https://github.com/xzhih/hexo-theme-casper" title="Casper" target="_blank" rel="noopener">Casper</a>
		</nav>
	</div>
</footer>
	


<script>
    if(window.navigator && navigator.serviceWorker) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
            for(let registration of registrations) {
                registration.unregister()
            }
        })
    }
</script>


<script id="scriptLoad" src="/js/allinone.min.js" async></script>



<div class="floating-header">
	<div class="floating-header-logo">
        <a href="/" title="Levitate_">
			
                <img src="https://s1.ax1x.com/2022/05/18/Oo3OeI.png" alt="Levitate_ icon">
			
            <span>Levitate_</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">MATLAB札记（一）：让图像动起来</div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




<script>;(function() {var bLazy = new Blazy()})();</script>




<script>
    document.getElementById('scriptLoad').addEventListener('load', function () {
        
        
            var bLazy = new Blazy();
        

        
        

        
        
        
            searchFunc("/");
        
        
    })
</script>




<link rel="stylesheet" href="/photoswipe/photoswipe.css">


<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>


<script src="/photoswipe/photoswipe-ui-default.min.js"></script>





<script id="valineScript" src="//unpkg.com/valine/dist/Valine.min.js" async></script>
<script>
    document.getElementById('valineScript').addEventListener("load", function() {
        new Valine({
            el: '#comment' ,
            verify: false,
            notify: false,
            appId: 'lv1bzqDwJo9FTYdBip3QGP7t-gzGzoHsz',
            appKey: 'mK4QC79PTUYTSginf9BXEzlv',
            placeholder: '求轻喷(*/ω＼*)',
            pageSize: 10,
            avatar: 'retro',
            visitor: true,
            requiredFields: ['mail']
        })
    });
</script>




<script>
    document.addEventListener('DOMContentLoaded',function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    });
</script>


</body>
</html>
